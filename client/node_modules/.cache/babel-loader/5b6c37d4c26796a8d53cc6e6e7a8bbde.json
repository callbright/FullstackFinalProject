{"ast":null,"code":"var _jsxFileName = \"/Users/ChristianAllbright/final-project-callbright/client/src/components/PostDetail.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { supabase } from '../client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PostDetail = () => {\n  _s();\n\n  const [post, setPost] = useState(null);\n  const {\n    id\n  } = useParams(); // Get post ID from URL\n\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchPost();\n  }, [id]);\n\n  const fetchPost = async () => {\n    const {\n      data,\n      error\n    } = await supabase.from('criteria').select('*').eq('id', id).single();\n\n    if (error) {\n      console.error('Error fetching post:', error);\n    } else {\n      setPost(data);\n    }\n  };\n\n  const deletePost = async () => {\n    const {\n      error\n    } = await supabase.from('criteria').delete().match({\n      id: id\n    });\n\n    if (error) {\n      alert('Failed to delete the post. Please try again!');\n      console.error('Error deleting post:', error);\n    } else {\n      navigate('/'); // Redirect to home after deletion\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: post ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: post.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: post.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: deletePost,\n        children: \"Delete Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading post details...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PostDetail, \"nA7SSMiM/DNjdihMKjgm+FyD81c=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = PostDetail;\nexport default PostDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostDetail\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","supabase","PostDetail","post","setPost","id","navigate","fetchPost","data","error","from","select","eq","single","console","deletePost","delete","match","alert","title","content"],"sources":["/Users/ChristianAllbright/final-project-callbright/client/src/components/PostDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { supabase } from '../client';\n\nconst PostDetail = () => {\n    const [post, setPost] = useState(null);\n    const { id } = useParams();  // Get post ID from URL\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        fetchPost();\n    }, [id]);\n\n    const fetchPost = async () => {\n        const { data, error } = await supabase\n            .from('criteria')\n            .select('*')\n            .eq('id', id)\n            .single();\n\n        if (error) {\n            console.error('Error fetching post:', error);\n        } else {\n            setPost(data);\n        }\n    };\n\n    const deletePost = async () => {\n        const { error } = await supabase\n            .from('criteria')\n            .delete()\n            .match({ id: id });\n\n        if (error) {\n            alert('Failed to delete the post. Please try again!');\n            console.error('Error deleting post:', error);\n        } else {\n            navigate('/');  // Redirect to home after deletion\n        }\n    };\n\n    return (\n        <div>\n            {post ? (\n                <div>\n                    <h1>{post.title}</h1>\n                    <p>{post.content}</p>\n                    <button onClick={deletePost}>Delete Post</button>\n                </div>\n            ) : (\n                <p>Loading post details...</p>\n            )}\n        </div>\n    );\n};\n\nexport default PostDetail;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,kBAAvC;AACA,SAASC,QAAT,QAAyB,WAAzB;;;AAEA,MAAMC,UAAU,GAAG,MAAM;EAAA;;EACrB,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,IAAD,CAAhC;EACA,MAAM;IAAEQ;EAAF,IAASN,SAAS,EAAxB,CAFqB,CAEQ;;EAC7B,MAAMO,QAAQ,GAAGN,WAAW,EAA5B;EAEAF,SAAS,CAAC,MAAM;IACZS,SAAS;EACZ,CAFQ,EAEN,CAACF,EAAD,CAFM,CAAT;;EAIA,MAAME,SAAS,GAAG,YAAY;IAC1B,MAAM;MAAEC,IAAF;MAAQC;IAAR,IAAkB,MAAMR,QAAQ,CACjCS,IADyB,CACpB,UADoB,EAEzBC,MAFyB,CAElB,GAFkB,EAGzBC,EAHyB,CAGtB,IAHsB,EAGhBP,EAHgB,EAIzBQ,MAJyB,EAA9B;;IAMA,IAAIJ,KAAJ,EAAW;MACPK,OAAO,CAACL,KAAR,CAAc,sBAAd,EAAsCA,KAAtC;IACH,CAFD,MAEO;MACHL,OAAO,CAACI,IAAD,CAAP;IACH;EACJ,CAZD;;EAcA,MAAMO,UAAU,GAAG,YAAY;IAC3B,MAAM;MAAEN;IAAF,IAAY,MAAMR,QAAQ,CAC3BS,IADmB,CACd,UADc,EAEnBM,MAFmB,GAGnBC,KAHmB,CAGb;MAAEZ,EAAE,EAAEA;IAAN,CAHa,CAAxB;;IAKA,IAAII,KAAJ,EAAW;MACPS,KAAK,CAAC,8CAAD,CAAL;MACAJ,OAAO,CAACL,KAAR,CAAc,sBAAd,EAAsCA,KAAtC;IACH,CAHD,MAGO;MACHH,QAAQ,CAAC,GAAD,CAAR,CADG,CACa;IACnB;EACJ,CAZD;;EAcA,oBACI;IAAA,UACKH,IAAI,gBACD;MAAA,wBACI;QAAA,UAAKA,IAAI,CAACgB;MAAV;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAA,UAAIhB,IAAI,CAACiB;MAAT;QAAA;QAAA;QAAA;MAAA,QAFJ,eAGI;QAAQ,OAAO,EAAEL,UAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAHJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADC,gBAOD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EARR;IAAA;IAAA;IAAA;EAAA,QADJ;AAaH,CAlDD;;GAAMb,U;UAEaH,S,EACEC,W;;;KAHfE,U;AAoDN,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}