{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Lions/FullstackFinalProject/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Lions/FullstackFinalProject/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Lions/FullstackFinalProject/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Lions/FullstackFinalProject/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Lions/FullstackFinalProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./CreatePost.css';import{supabase}from'../client';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreatePost=function CreatePost(){var _useState=useState({title:\"\",subtopic:\"\",content:\"\"}),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setPost(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};var createPost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _yield$supabase$from$,data,error;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return supabase.from('criteria').insert([{title:post.title,subtopic:post.subtopic,content:post.content}]);case 3:_yield$supabase$from$=_context.sent;data=_yield$supabase$from$.data;error=_yield$supabase$from$.error;if(error){console.error('Error inserting data:',error);}else{console.log('Insert successful',data);window.location.href=\"/\";}case 7:case\"end\":return _context.stop();}}},_callee);}));return function createPost(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:createPost,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"subtopic\",children:\"Subtopic\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"subtopic\",name:\"subtopic\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",children:\"Content\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"5\",cols:\"60\",id:\"content\",name:\"content\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"})]})});};export default CreatePost;","map":{"version":3,"names":["React","useState","supabase","CreatePost","title","subtopic","content","post","setPost","handleChange","event","target","name","value","prev","createPost","preventDefault","from","insert","data","error","console","log","window","location","href"],"sources":["C:/Users/Lions/FullstackFinalProject/client/src/pages/CreatePost.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './CreatePost.css';\r\nimport { supabase } from '../client';\r\n\r\nconst CreatePost = () => {\r\n    const [post, setPost] = useState({ title: \"\", subtopic: \"\", content: \"\" });\r\n\r\n    const handleChange = (event) => {\r\n        const { name, value } = event.target;\r\n        setPost(prev => ({\r\n            ...prev,\r\n            [name]: value,\r\n        }));\r\n    };\r\n\r\n    const createPost = async (event) => {\r\n        event.preventDefault();\r\n\r\n        const { data, error } = await supabase\r\n            .from('criteria')\r\n            .insert([\r\n                { title: post.title, subtopic: post.subtopic, content: post.content }\r\n            ]);\r\n\r\n        if (error) {\r\n            console.error('Error inserting data:', error);\r\n        } else {\r\n            console.log('Insert successful', data);\r\n            window.location.href = \"/\"; \r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={createPost}>\r\n                <label htmlFor=\"title\">Title</label> <br />\r\n                <input type=\"text\" id=\"title\" name=\"title\" onChange={handleChange} /><br /><br/>\r\n\r\n                <label htmlFor=\"subtopic\">Subtopic</label><br />\r\n                <input type=\"text\" id=\"subtopic\" name=\"subtopic\" onChange={handleChange} /><br /><br/>\r\n\r\n                <label htmlFor=\"content\">Content</label><br />\r\n                <textarea rows=\"5\" cols=\"60\" id=\"content\" name=\"content\" onChange={handleChange} />\r\n                <br/>\r\n                <input type=\"submit\" value=\"Submit\" />\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CreatePost;\r\n"],"mappings":"spBAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,kBAAP,CACA,OAASC,QAAT,KAAyB,WAAzB,C,wFAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CACrB,cAAwBF,QAAQ,CAAC,CAAEG,KAAK,CAAE,EAAT,CAAaC,QAAQ,CAAE,EAAvB,CAA2BC,OAAO,CAAE,EAApC,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,KAAD,CAAW,CAC5B,kBAAwBA,KAAK,CAACC,MAA9B,CAAQC,IAAR,eAAQA,IAAR,CAAcC,KAAd,eAAcA,KAAd,CACAL,OAAO,CAAC,SAAAM,IAAI,wCACLA,IADK,wBAEPF,IAFO,CAEAC,KAFA,IAAL,CAAP,CAIH,CAND,CAQA,GAAME,WAAU,4FAAG,iBAAOL,KAAP,yJACfA,KAAK,CAACM,cAAN,GADe,sBAGed,SAAQ,CACjCe,IADyB,CACpB,UADoB,EAEzBC,MAFyB,CAElB,CACJ,CAAEd,KAAK,CAAEG,IAAI,CAACH,KAAd,CAAqBC,QAAQ,CAAEE,IAAI,CAACF,QAApC,CAA8CC,OAAO,CAAEC,IAAI,CAACD,OAA5D,CADI,CAFkB,CAHf,4CAGPa,IAHO,uBAGPA,IAHO,CAGDC,KAHC,uBAGDA,KAHC,CASf,GAAIA,KAAJ,CAAW,CACPC,OAAO,CAACD,KAAR,CAAc,uBAAd,CAAuCA,KAAvC,EACH,CAFD,IAEO,CACHC,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAiCH,IAAjC,EACAI,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CACH,CAdc,sDAAH,kBAAVV,WAAU,4CAAhB,CAiBA,mBACI,kCACI,cAAM,QAAQ,CAAEA,UAAhB,wBACI,cAAO,OAAO,CAAC,OAAf,mBADJ,kBACyC,aADzC,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,OAAtB,CAA8B,IAAI,CAAC,OAAnC,CAA2C,QAAQ,CAAEN,YAArD,EAFJ,cAEyE,aAFzE,cAE+E,aAF/E,cAII,cAAO,OAAO,CAAC,UAAf,sBAJJ,cAI8C,aAJ9C,cAKI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,UAAtB,CAAiC,IAAI,CAAC,UAAtC,CAAiD,QAAQ,CAAEA,YAA3D,EALJ,cAK+E,aAL/E,cAKqF,aALrF,cAOI,cAAO,OAAO,CAAC,SAAf,qBAPJ,cAO4C,aAP5C,cAQI,iBAAU,IAAI,CAAC,GAAf,CAAmB,IAAI,CAAC,IAAxB,CAA6B,EAAE,CAAC,SAAhC,CAA0C,IAAI,CAAC,SAA/C,CAAyD,QAAQ,CAAEA,YAAnE,EARJ,cASI,aATJ,cAUI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,EAVJ,GADJ,EADJ,CAgBH,CA5CD,CA8CA,cAAeN,WAAf"},"metadata":{},"sourceType":"module"}