{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Lions/FullstackFinalProject/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Lions/FullstackFinalProject/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Lions/FullstackFinalProject/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Lions/FullstackFinalProject/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Lions/FullstackFinalProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useParams}from'react-router-dom';import{supabase}from'../client';import'./EditPost.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditPost=function EditPost(){var _useParams=useParams(),id=_useParams.id;var _useState=useState({id:null,title:\"\",subtopic:\"\",content:\"\"}),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setPost(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};var updatePost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return supabase.from('criteria').update({title:post.title,subtopic:post.subtopic,content:post.content}).eq('id',id);case 3:window.location.href=\"http://localhost:3000/\";case 4:case\"end\":return _context.stop();}}},_callee);}));return function updatePost(_x){return _ref.apply(this,arguments);};}();var deletePost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return supabase.from('criteria').delete().eq('id',id);case 2:window.location.href=\"http://localhost:3000/\";case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function deletePost(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:updatePost,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",value:post.title,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"subtopic\",children:\"Subtopic\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"subtopic\",name:\"subtopic\",value:post.subtopic,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",children:\"Content\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"5\",cols:\"50\",name:\"content\",id:\"content\",value:post.content,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"deleteButton\",onClick:deletePost,children:\"Delete\"})]})});};export default EditPost;","map":{"version":3,"names":["React","useState","useParams","supabase","EditPost","id","title","subtopic","content","post","setPost","handleChange","event","target","name","value","prev","updatePost","preventDefault","from","update","eq","window","location","href","deletePost","delete"],"sources":["C:/Users/Lions/FullstackFinalProject/client/src/pages/EditPost.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { supabase } from '../client';\r\nimport './EditPost.css';\r\n\r\nconst EditPost = () => {\r\n    const { id } = useParams();\r\n    const [post, setPost] = useState({ id: null, title: \"\", subtopic: \"\", content: \"\" });\r\n\r\n    const handleChange = (event) => {\r\n        const { name, value } = event.target;\r\n        setPost(prev => ({\r\n            ...prev,\r\n            [name]: value,\r\n        }));\r\n    };\r\n\r\n    const updatePost = async (event) => {\r\n        event.preventDefault();\r\n        await supabase\r\n            .from('criteria')\r\n            .update({ title: post.title, subtopic: post.subtopic, content: post.content })\r\n            .eq('id', id);\r\n\r\n        window.location.href = \"http://localhost:3000/\";\r\n    };\r\n\r\n    const deletePost = async () => {\r\n        await supabase\r\n            .from('criteria')\r\n            .delete()\r\n            .eq('id', id);\r\n\r\n        window.location.href = \"http://localhost:3000/\";\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={updatePost}>\r\n                <label htmlFor=\"title\">Title</label> <br />\r\n                <input type=\"text\" id=\"title\" name=\"title\" value={post.title} onChange={handleChange} /><br /><br/>\r\n                <label htmlFor=\"subtopic\">Subtopic</label><br />\r\n                <input type=\"text\" id=\"subtopic\" name=\"subtopic\" value={post.subtopic} onChange={handleChange} /><br /><br/>\r\n                <label htmlFor=\"content\">Content</label><br />\r\n                <textarea rows=\"5\" cols=\"50\" name=\"content\" id=\"content\" value={post.content} onChange={handleChange}></textarea>\r\n                <br/>\r\n                <input type=\"submit\" value=\"Submit\" />\r\n                <button type=\"button\" className=\"deleteButton\" onClick={deletePost}>Delete</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EditPost;\r\n"],"mappings":"spBAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,QAAT,KAAyB,WAAzB,CACA,MAAO,gBAAP,C,wFAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACnB,eAAeF,SAAS,EAAxB,CAAQG,EAAR,YAAQA,EAAR,CACA,cAAwBJ,QAAQ,CAAC,CAAEI,EAAE,CAAE,IAAN,CAAYC,KAAK,CAAE,EAAnB,CAAuBC,QAAQ,CAAE,EAAjC,CAAqCC,OAAO,CAAE,EAA9C,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,KAAD,CAAW,CAC5B,kBAAwBA,KAAK,CAACC,MAA9B,CAAQC,IAAR,eAAQA,IAAR,CAAcC,KAAd,eAAcA,KAAd,CACAL,OAAO,CAAC,SAAAM,IAAI,wCACLA,IADK,wBAEPF,IAFO,CAEAC,KAFA,IAAL,CAAP,CAIH,CAND,CAQA,GAAME,WAAU,4FAAG,iBAAOL,KAAP,oHACfA,KAAK,CAACM,cAAN,GADe,sBAETf,SAAQ,CACTgB,IADC,CACI,UADJ,EAEDC,MAFC,CAEM,CAAEd,KAAK,CAAEG,IAAI,CAACH,KAAd,CAAqBC,QAAQ,CAAEE,IAAI,CAACF,QAApC,CAA8CC,OAAO,CAAEC,IAAI,CAACD,OAA5D,CAFN,EAGDa,EAHC,CAGE,IAHF,CAGQhB,EAHR,CAFS,QAOfiB,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,wBAAvB,CAPe,sDAAH,kBAAVP,WAAU,4CAAhB,CAUA,GAAMQ,WAAU,6FAAG,iKACTtB,SAAQ,CACTgB,IADC,CACI,UADJ,EAEDO,MAFC,GAGDL,EAHC,CAGE,IAHF,CAGQhB,EAHR,CADS,QAMfiB,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,wBAAvB,CANe,wDAAH,kBAAVC,WAAU,2CAAhB,CASA,mBACI,kCACI,cAAM,QAAQ,CAAER,UAAhB,wBACI,cAAO,OAAO,CAAC,OAAf,mBADJ,kBACyC,aADzC,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,OAAtB,CAA8B,IAAI,CAAC,OAAnC,CAA2C,KAAK,CAAER,IAAI,CAACH,KAAvD,CAA8D,QAAQ,CAAEK,YAAxE,EAFJ,cAE4F,aAF5F,cAEkG,aAFlG,cAGI,cAAO,OAAO,CAAC,UAAf,sBAHJ,cAG8C,aAH9C,cAII,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,UAAtB,CAAiC,IAAI,CAAC,UAAtC,CAAiD,KAAK,CAAEF,IAAI,CAACF,QAA7D,CAAuE,QAAQ,CAAEI,YAAjF,EAJJ,cAIqG,aAJrG,cAI2G,aAJ3G,cAKI,cAAO,OAAO,CAAC,SAAf,qBALJ,cAK4C,aAL5C,cAMI,iBAAU,IAAI,CAAC,GAAf,CAAmB,IAAI,CAAC,IAAxB,CAA6B,IAAI,CAAC,SAAlC,CAA4C,EAAE,CAAC,SAA/C,CAAyD,KAAK,CAAEF,IAAI,CAACD,OAArE,CAA8E,QAAQ,CAAEG,YAAxF,EANJ,cAOI,aAPJ,cAQI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,EARJ,cASI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,cAAhC,CAA+C,OAAO,CAAEc,UAAxD,oBATJ,GADJ,EADJ,CAeH,CA9CD,CAgDA,cAAerB,SAAf"},"metadata":{},"sourceType":"module"}